---
title: "プロジェクトに浅瀬を作る"
emoji: "🏖️"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: [心理的安全]
published: false
---

# はじめに

プロジェクトに参加しているメンバーがうまく環境に適用できずに離脱することがあり、ともすれば、身体を壊してしまうケースもあります。これは新規メンバーに限定されず、既存のメンバーでも、プロジェクトや本人の状況、その役割が変われば発生し得ると思っています。

そういったことを回避できた状態を想像した時にプロジェクトに浅瀬があったら良いのではというイメージからこの言葉が浮かんだのだと思います。2年ほど前のメモ書きにこのタイトルが記されていて、今見直した時にすごくしっくり来ました。

[https://twitter.com/ykws__/status/1505821070200217602?s=21](https://twitter.com/ykws__/status/1505821070200217602?s=21)

この「プロジェクトに浅瀬を作る」とは、どういうことなのか、改めて深堀したいと思います。

# どういうこと？

- プロジェクトに参加する人が溺れないようにするのが目的
    - 溺れるというのは、闇雲に時間がかかってしまい心身ともに疲弊してしまうイメージです
- 監視員が必要のない状態が理想
    - ずっと監視して問題が起きたら対処するといった、対処療法ではなく、環境を定期的に検査して維持し、放任しても大怪我をしない状態をイメージしています。

# 何をする？

- 深いところを予め調査してそこが深いとわかるように目印をつける
- 安全に深いところに行くための訓練を行う

# 具体的には？

- ドキュメントを整備する
    - 頻繁に変更される機能仕様とその変更理由
        - 頻繁に変更される機能は必然的に触れる機会も多くなり、壊してしまう可能性が高いため、変更する際に、その機能がどういった仕様なのかわかるのと、また過去の変更理由も知れることで、これからの変更が妥当であるか比較可能であると事故が起きにくい
    - 採用しているアーキテクチャとその採用理由
        - 設計方針を知っておくと、コードの理解と変更がしやすい
        - 何を基準にアーキテクチャを選択したのかわかっていると別の課題に対してアーキテクチャを改善する際に見当違いな検討を避けられる
    - 抱えている課題と障壁となる事項
        - 一般的に「ここは直した方が良い」ということでも既存の制約から当プロジェクトにおいては実現が困難なことがわかるとよい
        - 既存の制約が明文化されていれば、その制約を解消できた時に課題を改善できると判断がしやすい
        - よく「直した方が良いところを教えて欲しい」と言われることがあると思う。予めそういったリストと、なぜそれが直されていないのか理由があるはずなので、そういった既存の評価を踏まえた上で新たに検討した方が効率が良い。歴史的背景が読み取れない状態での提案は可能だが、障壁となる事案により却下されるので、提案した側のモチベーションが著しく下がってしまう
- スクリプトを作成する
    - 繰り返しの作業
        - 特に環境構築は参入時の障壁になるので手順の考慮が不要なスクリプトにまとまっているのが望ましい
        - テスト用にプロダクトのアカウントやデータの作成・更新なども
- ペアワークを実施する
    - 安全に深いところへ行くための訓練の役割もある
        - 既存のメンバーがどうやって作業するか見ることで学べる
        - 新規メンバーがどうやって作業するか見ることでプロジェクトに浅瀬ができているか評価できる。またこの時に溺れそうならすぐに助けられる
- テストコードを追加する
    - テストコードがない部分は危険な場所であり、仮に変更も不具合も発生しない箇所なら極論なくても問題はない。いずれかの条件を満たすならテストコードを追加していく。歴史的な経緯からテストコードの追加が困難な場合は、テストがなくて危険な場所であることをドキュメントやコメントで明らかにする
        - 頻繁に変更される箇所
        - 不具合の発生した箇所
- コードグラフを用意する
    - テストコード追加の目安と、もしない場合の危険地帯の目印として以下についてグラフもしくはスコア化されてわかると良さそう
        - 頻繁に変更されやすい箇所
        - 不具合により変更が多発している箇所

# ゴール

- 絶えず、検査と改善を行い、環境を維持するため、終わりがありません
    - ここで挙げた具体例に対しても実施して評価して更新していく
- 十分にできていると証明する方法がありません
    - 溺れないようにするため、仮に溺れている人がいなかったとしても、それが即ち「助けた」とは言えない
    - 具体的にドキュメントなど用意されていて「助かった」というフィードバックがもしかしたら評価軸になるかもしれません
    - あるいは、他のプロジェクトとの比較で、プロジェクトの健全さが差別化できるかもしれません

# おわりに

ここに記載したことは、参加しているプロジェクトによって対応にばらつきがあり、不十分な状態であると思っています。こうして言語化したことで、各プロジェクトに対して、どの取り組みを強化していくべきか評価して、推進していってみたいと思います。
